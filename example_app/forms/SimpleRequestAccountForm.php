<?phpnamespace app\forms;use row\core\Options;use row\utils\Email;use app\models;use app\specs\Output;class SimpleRequestAccountForm extends \row\form\SimpleForm {	protected function elements() {		return array(			'username' => array(				'type' => 'text',				'required' => 3, // 0 = don't care, 1 = must exist, 2 = must not be empty(), 3 = must more than whitespace				'validation' => function( $form ) {					$db = $form->application->db;					$usernameExists = models\User::count(array('username' => $form->input['username']));					return !$usernameExists;				},				'description' => Output::translate('Have you read our %0?', array(Output::ajaxLink(Output::translate('username guidelines', null, array('ucfirst' => false)), 'blog/page/username')))			),/*			'username_disclaimer' => array(				'type' => 'markup',				'text' => Output::translate('Have you read our %0?', array(Output::link(Output::translate('username guidelines', null, array('ucfirst' => false)), 'blog-user/guidelines/username')))			),*/			'password' => array(				'type' => 'password',				'required' => 1			),			'color' => array(				'title' => 'Favourite colour',				'type' => 'color',				'required' => 0			),			'bio' => array(				'type' => 'textarea',				'required' => 0,				'rows' => 5			),			// only executed if ALL "required" validations pass			array(				'validation' => function( $form ) {					return strlen($form->input('username')) <= strlen($form->input('password'));				},				'fields' => array('username', 'password'),				'message' => 'Your password must be at least as long as your username'			),			// only executed if [username] passes all its validations			array(				'require' => 'username',				'validation' => function( $form ) {					$usr = strtolower($form->input('username'));					$clr = strtolower($form->input('color'));					return !is_int(strpos($username, $color)) && !is_int(strpos($color, $username));				},				'fields' => 'username',				'message' => 'Username cannot contain Colour and vice verse'			),		);	}}