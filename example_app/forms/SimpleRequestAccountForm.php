<?phpnamespace app\forms;use row\core\Options;use row\utils\Email;use app\models;use app\specs\Output;class SimpleRequestAccountForm extends \row\form\SimpleForm {	protected function elements() {		return array(			'username' => array(				'type' => 'text',				'required' => true,				'minlength' => 2,				'validation' => function( $form ) {					$db = $form->application->db;					$usernameExists = models\User::count(array('username' => $form->input('username')));					return $usernameExists ? 'This username is taken' : true;				},				'description' => Output::translate('Have you read our %0?', array(Output::ajaxLink(Output::translate('username guidelines', null, array('ucfirst' => false)), 'blog/page/username')))			),/*			'username_disclaimer' => array(				'type' => 'markup',				'text' => Output::translate('Have you read our %0?', array(Output::link(Output::translate('username guidelines', null, array('ucfirst' => false)), 'blog-user/guidelines/username')))			),*/			'password' => array(				'type' => 'password',				'required' => true,				'minlength' => 0,			),			'color' => array(				'title' => 'Favourite colour',				'type' => 'colour',				'required' => true,				'minlength' => 2,			),			'bio' => array(				'type' => 'textarea',				'required' => true,				'minlength' => 0,				'rows' => 5,				'regex' => '.*\w\s\w.*',			),			// only executed if ALL "required" validations pass			array(				'validation' => function( $form ) {					return strlen($form->input('username')) <= strlen($form->input('password'));				},				'fields' => 'password',				'message' => 'Your password must be at least as long as your username'			),			// only executed if [username] passes all its validations			array(				'require' => 'username',				'validation' => function( $form ) {					$usr = strtolower($form->input('username'));					$clr = strtolower($form->input('color'));					return !is_int(strpos($usr, $clr)) && !is_int(strpos($clr, $usr));				},				'fields' => array('username', 'color'),				'message' => 'Username cannot contain Colour and vice versa'			),		);	}}